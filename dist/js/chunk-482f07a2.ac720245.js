(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-482f07a2"],{2801:function(t,e,s){"use strict";var a=s("bf06"),r=s.n(a);r.a},2959:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details"},[s("div",{staticClass:"detailsleft"},[s("img",{attrs:{src:t.$store.state.baseUrl+"images/"+t.$store.state.game[t.$store.state.gameid].img}})]),s("div",{staticClass:"detailsright"},[s("h2",[t._v(t._s(t.$store.state.game[t.$store.state.gameid].content))]),s("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),s("h4",[t._v(t._s(t.$store.state.game[t.$store.state.gameid].details))]),s("h2",[t._v("价格："+t._s(t._f("pricefilter")(t.$store.state.game[t.$store.state.gameid].price)))]),s("h3",[t._v("库存："+t._s(t.$store.state.game[t.$store.state.gameid].stock))]),s("el-row",[s("el-button",{attrs:{type:"success",disabled:0==t.$store.state.game[t.$store.state.gameid].stock},on:{click:function(e){return t.addshop(t.$store.state.game[t.$store.state.gameid],t.$store.state.gameid)}}},[t._v("加入购物车")]),s("el-button",{attrs:{type:"success",disabled:0==t.$store.state.game[t.$store.state.gameid].stock},on:{click:function(e){return t.shop(t.$store.state.game[t.$store.state.gameid],t.$store.state.gameid)}}},[t._v("立即购买")])],1)],1),s("div",{staticClass:"detailsbottom"},[s("h1",[t._v("游戏详情")]),s("h3",[t._v(t._s(t.$store.state.game[t.$store.state.gameid].present))]),s("h3",[t._v(t._s(t.$store.state.game[t.$store.state.gameid].details))]),s("Ratecount")],1)])},r=[],i=(s("b0c0"),s("b680"),s("653a")),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[s("el-badge",{staticClass:"ratecount",attrs:{value:t.$store.state.game[t.$store.state.gameid].comment.length}},[t._v("评论")])],1),t._l(t.$store.state.game[t.$store.state.gameid].comment,(function(e){return s("div",{key:e.id},[s("img",{staticStyle:{width:"70px"},attrs:{src:t.$store.state.baseUrl+"images/"+e.headimg}}),s("h2",[t._v(t._s(e.name))]),s("h4",[t._v(t._s(e.content))]),s("el-rate",{attrs:{"show-text":"",disabled:""},model:{value:e.rate,callback:function(s){t.$set(e,"rate",s)},expression:"item.rate"}}),s("br"),s("br")],1)})),s("h1",[t._v("回复")]),s("div",{staticClass:"detailstext"},[s("textarea",{staticClass:"text",attrs:{placeholder:"请输入您的回复"}}),s("br"),s("h4",[t._v("请您对游戏进行评分：")]),s("el-rate",{attrs:{"show-text":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),s("br")],1),s("el-row",[s("el-button",{attrs:{type:"info",round:"",icon:"el-icon-edit"},on:{click:function(e){return t.btnsubmit()}}},[t._v("发布")])],1)],2)},n=[],c={name:"Ratecount",data:function(){return{value:null}},store:i["a"],methods:{btnsubmit:function(){var t={id:this.$store.state.game[this.$store.state.gameid].comment.length,headimg:this.$store.state.user[this.$store.state.userid].headimg,name:this.$store.state.user[this.$store.state.userid].name,content:document.getElementsByClassName("text")[0].value,rate:this.value},e=this.$store.state.gameid;0==t.content.length?this.$message("请输入评论内容！"):0==this.value?this.$message("请输入游戏评分！"):(this.$store.commit("addcomment",{obj:t,id:e}),this.value=0,document.getElementsByClassName("text")[0].value="")}}},m=c,u=(s("2801"),s("2877")),l=Object(u["a"])(m,o,n,!1,null,null,null),d=l.exports,h={name:"Details",store:i["a"],components:{Ratecount:d},methods:{addshop:function(t,e){var s=!0;if(0==this.$store.state.user[this.$store.state.userid].shopcar){var a={id:e,img:t.img,name:t.content,price:t.price,num:1};this.$store.commit("addshopcar",a),this.$message("加入购物车成功！")}else{for(var r in this.$store.state.user[this.$store.state.userid].shopcar)if(t.content==this.$store.state.user[this.$store.state.userid].shopcar[r].name){this.$store.state.user[this.$store.state.userid].shopcar[r].num==this.$store.state.user[this.$store.state.userid].shopcar[r].stock?this.$message("库存不足！"):(this.$store.commit("addnum",r),this.$message("加入购物车成功！")),s=!1;break}if(1==s){var i={id:e,img:t.img,name:t.content,price:t.price,num:1};this.$store.commit("addshopcar",i),this.$message("加入购物车成功！")}}},shop:function(t,e){var s={id:this.$store.state.user[this.$store.state.userid].order.length+1,content:[{img:t.img,name:t.content,price:t.price,num:1}],totalprice:this.price};this.$store.commit("shop",{order:s,id:e}),this.$message("购买成功！"),this.$router.push("/about")}},computed:{value:function(){for(var t=0,e=0;e<this.$store.state.game[this.$store.state.gameid].comment.length;e++)t+=this.$store.state.game[this.$store.state.gameid].comment[e].rate;var s=+(t/this.$store.state.game[this.$store.state.gameid].comment.length).toFixed(1);return s}}},g=h,$=(s("fea7"),Object(u["a"])(g,a,r,!1,null,null,null));e["default"]=$.exports},"87c5":function(t,e,s){},b0c0:function(t,e,s){var a=s("83ab"),r=s("9bf2").f,i=Function.prototype,o=i.toString,n=/^\s*function ([^ (]*)/,c="name";!a||c in i||r(i,c,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(t){return""}}})},bf06:function(t,e,s){},fea7:function(t,e,s){"use strict";var a=s("87c5"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-482f07a2.ac720245.js.map